<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>THUTHAO</title>

  <!-- Fonts & Icons (ƒë√£ s·ª≠a link sai c√∫ ph√°p v√† th√™m Font Awesome) -->
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Grandstander:wght@400;700&family=Fuzzy+Bubbles:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Coiny&family=Titan+One&family=Nerko+One&family=Sriracha&family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous">

  <script src="https://code.jquery.com/jquery-3.7.1.min.js" crossorigin="anonymous"></script>

  <style>
/* --- FIX LAYERING / MOBILE (b·∫£n 1 ‚Äì s·∫Ω c√≤n block override ·ªü cu·ªëi ƒë·ªÉ ƒë·∫£m b·∫£o ∆∞u ti√™n) --- */
#gift-boxes-area{ z-index: 2000; }    /* d∆∞·ªõi modal */
#fireworks{ z-index: 1500; }          /* th·∫•p h∆°n modal */
.boxMail{ z-index: 5000; }
#gift-modal{ z-index: 6000; }         /* modal ·∫£nh qu√† */
.box__letter{ z-index: 7000; }        /* modal TH∆Ø ‚Äì cao nh·∫•t */

/* Khi c√≥ modal -> ·∫©n strip qu√† + gif ƒë√°y ƒë·ªÉ kh·ªèi ƒë√® */
body.modal-open #gift-boxes-area,
body.modal-open #bottom-gif{
  display: none !important;
}

/* TH∆Ø responsive cho mobile */
.box__letter .letter__border{
  width: min(92vw, 760px);
  max-width: 92vw;
  height: auto;
  max-height: 84vh;
  overflow: hidden;
}
.letter__border .letter{
  height: 100%;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 14px;
}

/* ============ RESET + TOKENS ============ */
/* ===== CAPOO PALETTE ===== */
:root{
  --capoo-blue:   #25C0F1;  /* th√¢n Capoo */
  --capoo-blue-2: #17B3E6;  /* hover */
  --capoo-dark:   #0E4E68;  /* vi·ªÅn/ƒë·ªï b√≥ng ch·ªØ */
  --capoo-cream:  #FFF3E6;  /* n·ªÅn nh·∫°t */
  --capoo-pink:   #FF7AA2;  /* m√° h·ªìng/nh·∫•n */
}

/* Ti√™u ƒë·ªÅ chuy·ªÉn sang xanh Capoo + vi·ªÅn xanh ƒë·∫≠m */
.title .happy,
.title .birthday{
  color: var(--capoo-blue) !important;
  text-shadow:
    4px 4px var(--capoo-dark), -4px 4px var(--capoo-dark),
    4px -4px var(--capoo-dark), -4px -4px var(--capoo-dark),
    4px 8px 0 var(--capoo-dark) !important;
}

/* Icon tim sang h·ªìng Capoo */
.fa-heart{ color: var(--capoo-pink) !important; }

/* D·∫£i ng√†y, th·∫ª t√™n, v√† n√∫t ch√≠nh v·ªÅ c√πng t√¥ng Capoo */
.date__of__birth,
.name,
#btn__letter{
  background: var(--capoo-blue) !important;
  border-color: var(--capoo-dark) !important;
  color: #fff !important;
}

/* Hover n√∫t/bi·ªÉu ng·ªØ */
#btn__letter:hover{
  background: var(--capoo-blue-2) !important;
  border-color: #09384c !important;
  color:#fff !important;
  box-shadow: 0 6px 14px rgba(14,78,104,.25) !important;
}

/* N√∫t ‚ÄúB·∫≠t nh·∫°c‚Äù, v.v‚Ä¶ cho ƒë·ªìng b·ªô */
#music-unblock{
  background:#e6f8ff !important;
  border-color: var(--capoo-dark) !important;
  color: var(--capoo-dark) !important;
}
#music-unblock:hover{
  background:#d9f2ff !important;
}

/* Vi·ªÅn avatar v√† b·∫£ng t√™n h√†i ho√† t√¥ng xanh ƒë·∫≠m */
.content .right .image{
  border-color: var(--capoo-dark) !important;
}
.name{
  color:#fff !important;
}

/* Ch·∫•m tr√≤n quay (cricle) ƒë·ªïi khung xanh Capoo */
.text__cricle{
  background: var(--capoo-blue) !important;
  border-color: var(--capoo-dark) !important;
}
.text__cricle span{ color: #07384c !important; }

/* Thanh ng√†y c√≥ sao: m√†u sao h·ªìng Capoo */
.date__of__birth i.fa-star{ color: var(--capoo-pink) !important; }

/* N·∫øu mu·ªën c·∫£ n·ªÅn th∆∞ (modal) d·ªãu theo Capoo */
.letter__border .letter{
  background: var(--capoo-cream) !important;
}

*{margin:0;padding:0;box-sizing:border-box}
:root{
  --color-pink:#feecea; --color-white:#fff; --color-black:#333;
  --color-text-pink:#FF7882; --color-heart:#FF7882;
  --color-bg-letter:#fff8e4; --color-border:#DACCBF;
  /* Avatar tinh ch·ªânh */
  --avatar-size:240px; --avatar-border:5px; --avatar-shift-right:20px;
}
html,body{height:100%}
body{min-height:100%;font-size:16px;background:var(--color-pink);position:relative}

/* T·∫ÆT caro n·ªÅn c≈© */
html, body { background: transparent !important; }
#wrapper{background:none!important;background-image:none!important;background-size:initial!important}
#wrapper::before,#wrapper::after,body::before{content:none!important;background:none!important}

/* N·ªÄN GIF */
#background-gif{
  position:fixed; inset:0;
  background:url("https://i.pinimg.com/originals/b4/58/1d/b4581df9e47ce538d21555c94f75da95.gif") center/cover no-repeat fixed;
  opacity:.85; z-index:-1; pointer-events:none;
}

/* GIF pixel ch√¢n m√†n (tu·ª≥ ch·ªçn) */
#bottom-gif{position:fixed;left:50%;bottom:16px;transform:translateX(-50%);width:min(560px,60vw);z-index:1;display:none;pointer-events:none;opacity:.95;image-rendering:pixelated}

/* ===== HERO / FLAGS ===== */
#wrapper{position:relative;min-height:100%;overflow:hidden;z-index:1}
.flag__birthday{display:flex;justify-content:space-between;transform:translateY(-200px);animation:translateYFlag 1.5s 2s forwards}
@keyframes translateYFlag{to{transform:translateY(-10px)}}
.flag__left{transform:rotate(-10deg) translate(-20px,30px)}
.flag__right{transform:rotate(10deg) translate(20px,30px) scaleX(-1)}

.content{width:100%;display:flex;position:relative;padding-top:3rem}
.content .left,.content .right{display:flex;flex-direction:column;justify-content:center;align-items:center}
.content .left{width:40%}
.content .right{width:60%}
.content .right .box__account{margin-left:var(--avatar-shift-right)}

.title{width:100%;display:flex;justify-content:center;flex-direction:column;perspective:1000px;font-family:"Titan One",sans-serif;font-size:3rem}
.title .happy,.title .birthday{position:relative;font-weight:bold;display:flex;justify-content:center;text-shadow:4px 4px var(--color-black),-4px 4px var(--color-black),4px -4px var(--color-black),-4px -4px var(--color-black),4px 8px 0 var(--color-black)}
.title .happy{color:var(--color-white)}
.title .birthday{color:var(--color-text-pink)}
.title .happy span,.title .birthday span{transform:translateY(50px);opacity:0;visibility:hidden;animation:txtTranslateY .5s var(--t) forwards}
@keyframes txtTranslateY{to{transform:translateY(0);opacity:1;visibility:visible}}
.title .hat{position:absolute;right:45px;top:-350px;transform:rotate(-40deg);z-index:-1;animation:topHat 4s 7s forwards ease}
@keyframes topHat{20%,30%{top:-30px;transform-origin:left;transform:rotate(-40deg)}35%,100%{top:-30px;transform:rotate(0)}}

.date__of__birth,.name{display:flex;justify-content:space-around;align-items:center;background:var(--color-text-pink);border-radius:50px;margin-top:20px;font-family:"Sriracha",cursive}
.date__of__birth{border:3px solid var(--color-black);position:relative;transform:translateY(-100px);z-index:-1;opacity:0;visibility:hidden;width:0;animation:dateOfBirth 5s 9s forwards}
@keyframes dateOfBirth{20%,40%{width:0;height:0;transform:translateY(0);opacity:1;visibility:visible}45%{transform:translateY(0);opacity:1;visibility:visible;width:300px;height:0}50%,100%{transform:translateY(0);opacity:1;visibility:visible;width:300px;height:50px}}
.name{position:absolute;padding:2px 12px;bottom:-10px;border:3px solid var(--color-black);font-family:'Dancing Script',cursive}
.date__of__birth span,.name span{font-weight:700;margin:0 40px}
.date__of__birth span{font-size:1.2rem}
.name span{font-size:1.3rem}

.left .btn{transform:scale(0);animation:scaleCricle 2s 16s forwards ease-in-out}
#btn__letter{margin-top:30px;background:var(--color-text-pink);padding:5px 15px;font-size:1rem;border-radius:50px;border:3px solid var(--color-black);font-family:"Sriracha",cursive;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:2;transform:scale(1);transition:all .5s}
#btn__letter:active{transform:scale(.7)} #btn__letter i{margin-left:5px}
#btn__letter:hover{border-color:var(--color-heart);background:var(--color-heart);color:#fff;box-shadow:0 3px 8px rgba(0,0,0,.24)}
#btn__letter:hover i{animation:rotateHeart 1s infinite linear}
@keyframes rotateHeart{0%,50%,100%{transform:rotate(0)}25%{transform:rotate(12deg)}75%{transform:rotate(-12deg)}}
@keyframes scaleCricle{0%{transform:scale(0)}10%{transform:scale(1.3)}20%{transform:scale(.7)}30%,100%{transform:scale(1)}}

.right .box__account{position:relative;transform:translateY(700px);animation:topBoxImage 8s 7s forwards ease-in}
@keyframes topBoxImage{to{transform:translateY(0)}}

.content .right .image{position:relative;width:var(--avatar-size);height:var(--avatar-size);border-radius:50%;overflow:hidden;display:flex;align-items:center;border:var(--avatar-border) solid var(--color-black)}
.content .right .image img{width:100%;object-fit:cover}

.cricle{position:absolute;top:20px;right:50px;display:flex;justify-content:center;align-items:center;transform:scale(0);animation:scaleCricle 3s 15s forwards ease-in-out}
.text__cricle{width:88px;height:88px;background:var(--color-text-pink);border-radius:50%;border:5px solid var(--color-black);display:flex;justify-content:center;align-items:center;animation:rotateCricle 5s linear infinite}
@keyframes rotateCricle{to{transform:rotate(360deg)}}
.text__cricle span{position:absolute;top:0;left:50%;color:var(--color-black);transform:rotate(calc(var(--i) * 24deg));transform-origin:0 40px;font-family:"Sriracha",cursive;text-transform:uppercase;font-size:.7rem}
.fa-heart{color:var(--color-heart);filter:drop-shadow(0 0 3px var(--color-heart));animation:scaleHeart 1s infinite linear}
.cricle .fa-heart{position:absolute;transform:scale(.85)}
@keyframes scaleHeart{50%{transform:scale(1.2)}}

.right .balloon_one{position:absolute;top:-70px;left:-70px;animation:balloon1 2s infinite linear}
@keyframes balloon1{0%,50%,100%{transform-origin:bottom right;transform:rotate(0)}25%{transform-origin:bottom right;transform:rotate(3deg)}75%{transform-origin:bottom right;transform:rotate(-3deg)}}
.right .balloon_two{position:absolute;top:170px;right:-65px;z-index:-1;transform:rotate(10deg);animation:balloon2 2s infinite linear}
@keyframes balloon2{0%,50%,100%{transform-origin:bottom left;transform:rotate(10deg)}25%{transform-origin:bottom left;transform:rotate(7deg)}75%{transform-origin:bottom left;transform:rotate(13deg)}}

/* Decor t·ª´ b·∫£n g·ªëc */
.decorate_star{position:absolute;transform:scale(0);background:var(--color-black);clip-path:polygon(0 50%,35% 35%,50% 0,65% 35%,100% 50%,65% 65%,50% 100%,35% 65%);animation:scaleCricle 3s var(--t) forwards,scaleStar 2s 16s infinite ease-in-out}
@keyframes scaleStar{25%{transform:scale(.8)}50%{transform:scale(1.1)}}
.star1{width:20px;height:20px;top:75px;left:300px}
.star2{width:15px;height:20px;top:35px;right:360px}
.star3{width:14px;height:14px;top:290px;left:630px}
.star4{width:18px;height:18px;bottom:60px;left:35px}
.star5{width:16px;height:18px;bottom:140px;left:500px}
.decorate_bottom{position:absolute;right:0;bottom:-10px}
.decorate_flower--one{position:absolute;top:250px;left:50px;transform:scale(0);animation:scaleCricle 3s var(--t) forwards ease-in-out}
.decorate_flower--two{position:absolute;top:225px;left:540px;transform:scale(0);animation:scaleCricle 3s var(--t) forwards ease-in-out}
.decorate_flower--three{position:absolute;top:150px;right:235px;transform:scale(0);animation:scaleCricle 3s var(--t) forwards ease-in-out}

/* Sticker: kh√¥ng ch·∫∑n click v√† n·∫±m d∆∞·ªõi avatar */
.smiley__icon,
.smileo__icon,
.smilei__icon,
.smilep__icon,
.smileu__icon{
  position: absolute;
  bottom: 180px;
  transform: scale(0);
  animation: scaleCricle 3s 15s forwards ease-in-out;
  pointer-events: none;
  z-index: 3;
}

/* Ri√™ng t·ª´ng v·ªã tr√≠ */
.smiley__icon{ right: 200px; left: auto; }   /* chuy·ªÉn icon n√†y sang ph·∫£i */
.smileo__icon{ left: 600px; }                 /* ƒë√£ ·ªü b√™n ph·∫£i */
.smilei__icon{ right: 600px; }                /* ƒë√£ ·ªü b√™n ph·∫£i */
.smileu__icon{ left: 200px; }                 /* ·ªü b√™n tr√°i */
.smilep__icon{ left: 100px; }

/* ===== LETTER MODAL ===== */
.box__letter{position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:10;display:none}
.box__letter .letter__border{position:absolute;width:55vw;height:450px;background:var(--color-white);border-radius:27px;padding:17px;box-shadow:0 3px 8px rgba(0,0,0,.24);top:50%;left:50%;transform:translate(-50%,-50%);display:none}
.letter__border .close{position:absolute;right:-10px;top:-10px;width:30px;height:30px;background:var(--color-white);border-radius:50%;display:flex;justify-content:center;align-items:center;box-shadow:0 2px 8px rgba(99,99,99,.2);cursor:pointer}
.letter__border .letter{width:100%;height:100%;background:var(--color-bg-letter);border-radius:10px;padding-top:15px}
.letter__border .letter .title__letter{text-align:center;font-family:'Dancing Script',cursive;font-weight:700;font-size:2.4rem}
.title__letter .fa-solid{margin-left:5px;font-size:1.3rem}
.letter__border .content__letter{position:relative;width:100%;height:100%;display:flex;padding-top:1.5rem;padding-bottom:70px}
.content__letter .left{position:relative;width:50%;height:100%;padding:1.7rem;border-right:3px solid var(--color-border)}
.content__letter .left #heart__letter{opacity:0;width:100%}
#heart__letter.animationOp{animation:opacityHeart 1s 1s forwards}
@keyframes opacityHeart{to{opacity:1}}
.content__letter .left .heart{position:absolute;opacity:0}
.content__letter .left .heart.animation{animation:scaleHeartLetter 1s var(--t) infinite ease-in-out}
@keyframes scaleHeartLetter{0%{opacity:1;transform:scale(0)}10%{opacity:1;transform:scale(1.3)}20%{opacity:1;transform:scale(.7)}30%,100%{opacity:1;transform:scale(1)}}
.content__letter .left .heart_1{top:90px;left:30px}
.content__letter .left .heart_2{top:20px;right:70px}
.content__letter .left .heart_3{bottom:50px;left:145px}
.content__letter .left .heart_4{top:140px;right:35px}
.content__letter .right{position:relative;width:50%}
.content__letter .right .love__img{opacity:0;position:absolute;right:20px;top:-100px}
.love__img.animationOp{animation:opacityHeart 1s 1s forwards}
.content__letter .right .text__letter{margin-top:60px;padding:20px 15px 10px;font-family:'Dancing Script',cursive;font-size:1.3rem}
.content__letter .right #mewmew{position:absolute;bottom:0;right:0;opacity:0}
#mewmew.animationOp{animation:opacityHeart 1s 1s forwards}

/* ===== BOX MAIL ===== */
.boxMail{position:fixed;inset:0;background:rgba(0,0,0,.8);opacity:0;display:flex;justify-content:center;align-items:center;transform:scale(.3);visibility:hidden;transition:all .5s;z-index:100000000}
.boxMail.active{opacity:1;visibility:visible;transform:scale(1)}
.boxMail .boxMail-container{position:absolute;width:750px;height:500px;display:flex;margin:0;transform:scale(.9);perspective:2000px;transition:all .5s}
.boxMail .boxMail-container:hover{transform:rotate(-5deg);filter:drop-shadow(0 0 10px var(--color-text-pink))}
.boxMail .boxMail-container:hover .card1{transform:translate(-187px,-250px) rotateY(-140deg)}
.boxMail .boxMail-container .card1,.boxMail .boxMail-container .card2{position:absolute;width:100%;height:100%;top:50%;left:50%;transform:translate(-50%,-50%);border:1px solid #000}
.boxMail .boxMail-container .card1{width:50%;background:linear-gradient(to right,var(--color-text-pink),var(--color-text-pink) 63%);color:#fff;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:1;transform-style:preserve-3d;transform-origin:left;transition:all 1s ease-in-out}
.boxMail .boxMail-container .card1 .userImg{position:relative;width:80px;height:80px;background:#fff;border-radius:50%;overflow:hidden;border:2px solid #fff;cursor:pointer;margin-bottom:20px}
.boxMail .boxMail-container .card1 .userImg img{position:absolute;object-fit:cover;width:100%;height:100%}
.boxMail .boxMail-container .card1 h3{font-family:'Dancing Script',cursive;font-size:40px;text-transform:uppercase;width:80%;text-align:center;line-height:1.5;letter-spacing:5px;transform:rotate(-5deg);text-shadow:0 0 5px #fff,0 0 10px #fff}
.boxMail .boxMail-container .card2{width:50%;background:linear-gradient(to right,#e0e0e0,#fff 30%);transform-style:preserve-3d;transform-origin:left;transition:all 1s}
.boxMail .boxMail-container .card2 .card2-content{position:relative;width:100%;height:100%;background:var(--color-text-pink);transition:all 1s;overflow:hidden;font-family:"Inter",serif;color:#fff}
.boxMail .boxMail-container:hover .card2-content{transform:translate(20px,20px);box-shadow:-1px -1px 5px rgba(0,0,0,.4)}

.boxMail .fa-xmark{position:fixed;top:0;right:0;font-size:30px;padding:10px 25px;cursor:pointer;color:#fff;z-index:10000000000000000}

/* ===== GIFTS ===== */
#gift-boxes-area{
  position:fixed;left:50%;bottom:24px;transform:translateX(-50%);
  display:none;gap:28px;z-index:30;
}
.gift-box{width:96px;height:96px;position:relative;cursor:pointer;display:grid;place-items:center;animation:gfloat 3.2s ease-in-out infinite;transition:opacity .28s cubic-bezier(.44,1.5,.55,1.11), transform .2s cubic-bezier(.44,1.5,.55,1.11);will-change:opacity,transform}
.gift-box img.gift-img{width:100%;height:auto;display:block;filter:drop-shadow(0 10px 24px rgba(255,135,155,.35));user-select:none;-webkit-user-drag:none}
.gift-box:active{transform:scale(1.06)}
.gift-box.open{transform:scale(1.18) translateY(-8px) rotate(-2deg)}
@keyframes gfloat{0%{transform:translateY(0)}50%{transform:translateY(-18px)}100%{transform:translateY(0)}}
.gift-appear{animation:riseUp .9s ease-out forwards}
@keyframes riseUp{from{transform:translate(-50%,220px);opacity:0}to{transform:translate(-50%,0);opacity:1}}
.gift-box.removing{opacity:0!important;transform:scale(.6) translateY(20px)!important;pointer-events:none!important}

/* Modal l·ªùi ch√∫c */
#gift-modal{position:fixed;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(2px);display:none;align-items:center;justify-content:center;z-index:3000}
#gift-modal-content{background:#fffafc;color:#d1497a;border-radius:18px;padding:22px;min-width:240px;max-width:min(92vw,420px);text-align:center;box-shadow:0 10px 40px rgba(0,0,0,.25);font-family:'Dancing Script',cursive;font-size:1.4rem;position:relative}
#gift-modal-content img{max-width:100%;height:auto;border-radius:12px;margin-bottom:10px}
#gift-modal-close{position:absolute;right:14px;top:10px;font-size:1.7rem;color:#f67280;cursor:pointer}

/* Ph√°o hoa */
#fireworks{position:fixed;inset:0;pointer-events:none;z-index:4000}

/* ===== PIN MODAL ===== */
#pin-modal{position:fixed;inset:0;background:rgba(255,240,230,.96);display:flex;align-items:center;justify-content:center;z-index:9999}
.cute-pin-box{background:#ffe6ed;border:3.4px solid #e497af;border-radius:28px;box-shadow:0 4px 24px #e497af66;min-width:320px;min-height:340px;display:flex;flex-direction:column;align-items:center;padding:38px 28px 30px;color:#d1497a}
.cute-pin-title{font-family:'Dancing Script',cursive;font-size:2rem;margin-bottom:10px}
.cute-pin-dots{display:flex;gap:15px;margin:12px 0 18px}
.cute-pin-dot{width:24px;height:30px;border-radius:50% / 60%;border:2.5px solid #e497af;background:#fff6fb;position:relative}
.cute-pin-dot.filled{background:radial-gradient(ellipse at 50% 40%, #fff 0 40%, #f67280 42% 100%);border-color:#d1497a}
.cute-pin-keypad{display:grid;grid-template-columns:repeat(3,86px);grid-gap:18px;justify-content:center}

.cute-pin-key{position:relative;width:86px;height:110px;border-radius:22px;border:3px solid #d1497a;background:#fff;cursor:pointer;display:grid;place-items:center;box-shadow:0 6px 0 #eeb9c8,0 8px 18px rgba(209,73,122,.25);transition:transform .08s,box-shadow .08s}
.cute-pin-key:active{transform:translateY(2px);box-shadow:0 4px 0 #eeb9c8,0 6px 12px rgba(209,73,122,.2)}
.cute-pin-key .chick{position:absolute;top:6px;left:50%;transform:translateX(-50%);width:42px;height:30px;background:#fff;border:3px solid #ff9db0;border-radius:18px;box-shadow:0 2px 0 rgba(0,0,0,.06)}
.cute-pin-key .comb{position:absolute;top:-14px;left:50%;transform:translateX(-50%);font-size:16px;line-height:1;color:#ff4d6d;font-family:'Coiny',system-ui,sans-serif}
.cute-pin-key .eye{position:absolute;top:10px;width:6px;height:6px;background:#2d2d2d;border-radius:50%}
.cute-pin-key .eye.e1{left:11px} .cute-pin-key .eye.e2{right:11px}
.cute-pin-key .beak{position:absolute;top:14px;left:50%;transform:translateX(-50%);width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:8px solid #ff9e2c}
.cute-pin-key .digit{position:absolute;bottom:8px;left:50%;transform:translateX(-50%);font-family:'Titan One','Coiny',system-ui,sans-serif;font-size:46px;color:#fff;text-shadow:-3px -3px 0 #222,3px -3px 0 #222,-3px 3px 0 #222,3px 3px 0 #222,0 5px 0 rgba(0,0,0,.12)}
.cute-pin-key.special{background:#fff6fb}
.cute-pin-key.special .digit,.cute-pin-key.special .chick{display:none}
.cute-pin-key .label{font-weight:700;color:#d1497a;font-family:'Poppins',system-ui,sans-serif}

/* Music unblock */
#music-unblock{position:fixed;right:14px;bottom:14px;z-index:5000;display:none;border:2px solid #d1497a;background:#fff0f7;color:#d1497a;border-radius:999px;padding:10px 16px;font-weight:600;box-shadow:0 4px 16px rgba(209,73,122,.25)}

/* Responsive g·ªçn */
@media (max-width:768px){
  .content{flex-direction:column;gap:25px;align-items:center;padding-top:2rem}
  .title{font-size:1.6rem;letter-spacing:6px}
  .content .right .image{width:200px;height:200px}
  #gift-boxes-area{bottom:16px;gap:14px}
  .gift-box{width:68px;height:68px}
  .cute-pin-keypad{grid-template-columns:repeat(3,78px);grid-gap:14px}
  .cute-pin-key{width:78px;height:102px}
  .cute-pin-key .digit{font-size:42px}
}

/* ---------- OVERRIDE ∆ØU TI√äN CAO (ƒë·∫∑t cu·ªëi ƒë·ªÉ ƒë·∫£m b·∫£o ƒë√∫ng) ---------- */
#gift-boxes-area{ z-index: 2000 !important; }
#fireworks{ z-index: 1500 !important; }
#gift-modal{ z-index: 6000 !important; }
.box__letter{ z-index: 7000 !important; }
.boxMail{ z-index: 5000 !important; }

body.modal-open #gift-boxes-area,
body.modal-open #bottom-gif{ display: none !important; }
/* --- ƒê∆∞a n√∫t "B·∫§M V√ÄO ƒê√ÇY N√àEEEüíå" v√†o gi·ªØa m√†n h√¨nh tr√™n mobile --- */
/* === Mobile: n√∫t "B·∫§M V√ÄO ƒê√ÇY N√àEEEüíå" xu·∫•t hi·ªán t·ª´ t·ª´ nh∆∞ PC === */
@media (max-width: 768px){
  .left .btn{
    position: fixed;                /* b√°m theo viewport */
    left: 50%;
    top: 56vh;                      /* kho·∫£ng tr·ªëng gi·ªØa m√†n */
    transform: translate(-50%,-40%) scale(.88);
    opacity: 0;
    z-index: 2600;                  /* cao h∆°n strip qu√† (2000) */
    /* 1) hi·ªán d·∫ßn + 2) l·∫Øc nh·∫π sau khi hi·ªán */
    animation:
      mobileBtnIn   1.05s 2.1s forwards cubic-bezier(.21,1,.22,1),
      mobileBtnIdle 3.6s 3.3s ease-in-out infinite !important;
    pointer-events: auto;
  }
  #btn__letter{
    padding: 11px 20px;
    font-size: 1.06rem;
  }

  @keyframes mobileBtnIn{
    0%   { opacity:0; filter:blur(2px); transform:translate(-50%,-35%) scale(.82); }
    60%  { opacity:.9;                   transform:translate(-50%,-52%) scale(1.04); }
    100% { opacity:1; filter:none;       transform:translate(-50%,-50%) scale(1); }
  }
  @keyframes mobileBtnIdle{
    0%,100% { transform:translate(-50%,-50%) scale(1); }
    50%     { transform:translate(-50%,-52%) scale(1.02); }
  }

  /* T√¥n tr·ªçng ng∆∞·ªùi d√πng t·∫Øt motion */
  @media (prefers-reduced-motion: reduce){
    .left .btn{
      animation: none !important;
      opacity: 1;
      transform: translate(-50%,-50%) scale(1);
    }
  }
}
/* === N√∫t xu·∫•t hi·ªán t·ª´ng k√Ω t·ª± gi·ªëng "Happy Birthday" === */
:root{
  /* c√≥ th·ªÉ ch·ªânh th·ªùi ƒëi·ªÉm b·∫Øt ƒë·∫ßu & nh·ªãp */
  --btn-start: 6.6s;   /* delay tr∆∞·ªõc khi n√∫t b·∫Øt ƒë·∫ßu hi·ªán */
  --btn-step:  8.6s;  /* kho·∫£ng c√°ch gi·ªØa c√°c k√Ω t·ª± */
}

.left .btn{
  /* cho khung n√∫t ƒëi l√™n nh·∫π tr∆∞·ªõc khi c√°c k√Ω t·ª± ch·∫°y */
  opacity: 0;
  transform: translateY(22px);
  animation: btnWrapIn .6s calc(var(--btn-start) - .2s) forwards cubic-bezier(.22,.9,.24,1);
}

/* container ch·ªØ trong n√∫t */
#btn__letter .mail{
  display: inline-flex;
  align-items: center;
  gap: 4px;
  white-space: nowrap;
}

/* m·ªói k√Ω t·ª± */
#btn__letter .mail .ch{
  display: inline-block;
  transform: translateY(22px);
  opacity: 0;
  animation: btnCharIn .46s var(--d) forwards cubic-bezier(.22,.9,.24,1);
}

/* keyframes gi·ªëng style ch·ªØ heading */
@keyframes btnWrapIn{
  to{ opacity:1; transform: translateY(0); }
}
@keyframes btnCharIn{
  to{ opacity:1; transform: translateY(0); }
}

/* Mobile: v·∫´n gi·ªØ n√∫t ·ªü gi·ªØa nh∆∞ b·∫°n mu·ªën */
@media (max-width:768px){
  .left .btn{
    position: fixed;
    left: 50%;
    top: 56vh;
    transform: translate(-50%,-40%); /* tr·∫°ng th√°i tr∆∞·ªõc animation */
    animation: btnWrapIn .6s calc(var(--btn-start) - .6s) forwards cubic-bezier(.22,.9,.24,1);
    z-index: 2600;
  }
  .left .btn.showed{ transform: translate(-50%,-50%); } /* tr·∫°ng th√°i sau */
}

/* Ng∆∞·ªùi d√πng ch·ªçn reduce motion */
@media (prefers-reduced-motion: reduce){
  .left .btn{ animation:none!important; opacity:1; transform:none; }
  #btn__letter .mail .ch{ animation:none!important; opacity:1; transform:none; }
}
/* === D·ªúI C·ª§M AVATAR + V√íNG CH·ªÆ + 2 STICKER M√Ä V·∫™N GI·ªÆ ANIMATION === */
@media (max-width: 768px){
  :root{
    /* ch·ªânh s·ªë n√†y ƒë·ªÉ d·ªùi c·ª•m xu·ªëng tr√™n MOBILE m√† KH√îNG ·∫£nh h∆∞·ªüng hi·ªáu ·ª©ng bay l√™n */
    --cluster-shift: 56px; /* th·ª≠ 40‚Äì80px tu·ª≥ m·∫Øt */
  }
  /* .box__account c√≥ animation translateY -> d√πng margin-top ƒë·ªÉ kh√¥ng ch·∫°m transform */
  .content .right .box__account{
    margin-top: var(--cluster-shift);
  }
  /* .cricle & balloons l√† absolute -> d·ªùi b·∫±ng top calc, kh√¥ng ch·∫°m transform */
  .cricle{
    top: calc(20px + var(--cluster-shift)) !important;
  }
  .right .balloon_one{ top: calc(-70px + var(--cluster-shift)); }
  .right .balloon_two{ top: calc(170px + var(--cluster-shift)); }
}

/* (tu·ª≥ ch·ªçn) d·ªùi nh·∫π tr√™n PC m√† v·∫´n gi·ªØ hi·ªáu ·ª©ng */
@media (min-width: 769px){
  :root{ --cluster-shift-desktop: 20px; }
  .content .right .box__account{ margin-top: var(--cluster-shift-desktop); }
  .cricle{ top: calc(20px + var(--cluster-shift-desktop)) !important; }
  .right .balloon_one{ top: calc(-70px + var(--cluster-shift-desktop)); }
  .right .balloon_two{ top: calc(170px + var(--cluster-shift-desktop)); }
    }
/* ==== THEME CAPOO CHO PIN MODAL ==== */
/* N·ªÅn ph·ªß nh·∫π xanh thay v√¨ h·ªìng */
#pin-modal{
  background: rgba(37,192,241,.10) !important; /* var(--capoo-blue) */
}

/* H·ªôp ch√≠nh */
.cute-pin-box{
  background: #e6f8ff !important;                 /* xanh nh·∫°t */
  border: 3.4px solid var(--capoo-blue) !important;
  border-radius: 28px !important;
  box-shadow: 0 6px 28px rgba(37,192,241,.28) !important;
  color: var(--capoo-dark) !important;
}

/* Ti√™u ƒë·ªÅ */
.cute-pin-title{
  color: var(--capoo-dark) !important;
}

/* 4 ch·∫•m PIN */
.cute-pin-dot{
  border-color: var(--capoo-blue) !important;
  background: #ffffff !important;
}
.cute-pin-dot.filled{
  /* ch·∫•m ƒë√£ nh·∫≠p chuy·ªÉn sang xanh Capoo */
  background: radial-gradient(ellipse at 50% 40%,
              #fff 0 40%, var(--capoo-blue) 42% 100%) !important;
  border-color: var(--capoo-dark) !important;
}

/* N√∫t s·ªë */
.cute-pin-key{
  border: 3px solid var(--capoo-blue) !important;
  background: #ffffff !important;
  box-shadow: 0 6px 0 #bfeafc, 0 10px 20px rgba(37,192,241,.22) !important;
}
.cute-pin-key:active{
  box-shadow: 0 4px 0 #bfeafc, 0 6px 12px rgba(37,192,241,.18) !important;
}

/* Ph·∫ßn ‚Äúg√† con‚Äù tr√™n m·ªói ph√≠m ‚Äì gi·ªØ tim h·ªìng l√†m ƒëi·ªÉm nh·∫•n */
.cute-pin-key .chick{
  border-color: #bfeafc !important;
}
.cute-pin-key .comb{ color: var(--capoo-pink) !important; }  /* tim h·ªìng */
.cute-pin-key .eye{ background: #123c50 !important; }        /* m·∫Øt xanh ƒë·∫≠m */
.cute-pin-key .beak{ border-top-color: #ffa63b !important; } /* m·ªè gi·ªØ cam t∆∞∆°i */

/* S·ªë in tr√™n ph√≠m ‚Äì vi·ªÅn t·ªëi cho r√µ r√†ng tr√™n n·ªÅn xanh nh·∫°t */
.cute-pin-key .digit{
  color: #0E4E68 !important; /* var(--capoo-dark) */
  text-shadow:
    -2px -2px 0 #ffffff, 2px -2px 0 #ffffff,
    -2px  2px 0 #ffffff, 2px  2px 0 #ffffff,
     0    3px 0 rgba(0,0,0,.08) !important;   /* vi·ªÅn tr·∫Øng nh·∫π */
}

/* Ph√≠m ƒë·∫∑c bi·ªát (Xo√°, OK) */
.cute-pin-key.special{
  background: #e6f8ff !important;
  border-color: var(--capoo-blue) !important;
}
.cute-pin-key .label{
  color: var(--capoo-dark) !important;
  font-weight: 700 !important;
}

/* N√∫t ‚ÄúB·∫≠t nh·∫°c‚Äù ƒë√£ ƒë·ªìng b·ªô xanh; gi·ªØ nguy√™n nh∆∞ng ƒë·∫£m b·∫£o hover xanh */
#music-unblock{
  background:#e6f8ff !important;
  border-color: var(--capoo-blue) !important;
  color: var(--capoo-dark) !important;
}
#music-unblock:hover{ background:#d9f2ff !important; }
  </style>
</head>
<body>
  <!-- N·ªÄN GIF -->
  <div id="background-gif"></div>
  <!-- GIF pixel ch√¢n m√†n -->
  <img id="bottom-gif" alt="pixel gif">

  <!-- MAIN WRAPPER -->
  <div id="wrapper">
    <div class="flag__birthday">
      <img src="./images/1.png" alt="" width="350" class="flag__left">
      <img src="./images/1.png" alt="" width="350" class="flag__right">
    </div>

    <div class="content">
      <div class="left">
        <div class="title">
          <h1 class="happy">
            <span style="--t:4s;">H</span><span style="--t:4.2s;">a</span><span style="--t:4.4s;">p</span><span style="--t:4.6s;">p</span><span style="--t:4.8s;">y</span>
          </h1>
          <h1 class="birthday">
            <span style="--t:5s;">B</span><span style="--t:5.2s;">i</span><span style="--t:5.4s;">r</span><span style="--t:5.6s;">t</span><span style="--t:5.8s;">h</span><span style="--t:6s;">d</span><span style="--t:6.2s;">a</span><span style="--t:6.4s;">y</span>
          </h1>
          <div class="hat"><img src="./images/hat.png" alt="" width="130"></div>
        </div>

        <div class="date__of__birth"><span></span></div>

        <div class="btn">
          <button id="btn__letter">
            <div class="mail">B·∫§M V√ÄO ƒê√ÇY N√àEEEüíå <i class="fa-regular fa-envelope"></i></div>
          </button>
        </div>
      </div>

      <div class="right">
        <div class="box__account">
          <div class="image"><img src="images/1 (13).png" alt=""></div>
          <div class="name"><i class="fa-solid fa-heart"></i><span>THU TH·∫¢Oüíñ</span><i class="fa-solid fa-heart"></i></div>
          <div class="balloon_one"><img width="130" src="https://media0.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3bXJiaXlxc3kzdTFjbWc1bTgwOWt0MWE1bjRxNnIza3VrMWQ1b29hYiZlcD12MV9zdGlja2Vyc19yZWxhdGVkJmN0PXM/2mzRDsekJ4VqZIa2Cd/200.webp" alt=""></div>
          <div class="balloon_two"><img width="130" src="https://media0.giphy.com/media/JCSr1AN4mNgLKAy3a0/giphy.webp" alt=""></div>
        </div>
        <div class="cricle">
          <div class="text__cricle">
            <span style="--i:1;">h</span><span style="--i:2;">a</span><span style="--i:3;">p</span><span style="--i:4;">p</span><span style="--i:5;">y</span>
            <span style="--i:6;">-</span><span style="--i:7;">b</span><span style="--i:8;">i</span><span style="--i:9;">r</span><span style="--i:10;">t</span><span style="--i:11;">h</span><span style="--i:12;">d</span><span style="--i:13;">a</span><span style="--i:14;">y</span><span style="--i:15;">-</span>
          </div>
          <i class="fa-solid fa-heart"></i>
        </div>
      </div>
    </div>

    <!-- Decor gi·ªØ nguy√™n -->
    <div class="decorate_star star1" style="--t: 15s;"></div>
    <div class="decorate_star star2" style="--t: 15.2s;"></div>
    <div class="decorate_star star3" style="--t: 15.4s;"></div>
    <div class="decorate_star star4" style="--t: 15.6s;"></div>
    <div class="decorate_star star5" style="--t: 15.8s;"></div>
    <div class="decorate_flower--one" style="--t: 5s;"><img width="100" src="https://media3.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3Mzc5djYwdWxscWJ2MHdyd2x1aGs3d2s5Y3l4Z2k5YWhsZWw5dWZ1YiZlcD12MV9zdGlja2Vyc19yZWxhdGVkJmN0PXM/1hMjSIv1JBPEdoz73Y/200.webp" alt=""></div>
    <div class="decorate_flower--two" style="--t: 5.3s;"><img width="100" src="https://media0.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3YmZyamRvbDVndnZuMXRrZzBkYzM0bG95cjRyOHk2dTJicDQxdzR3aCZlcD12MV9zdGlja2Vyc19yZWxhdGVkJmN0PXM/wNk71OcVtOPncxNHVT/200.webp" alt=""></div>
    <div class="decorate_flower--three" style="--t: 5.6s;"><img width="100" src="https://media2.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3YmZyamRvbDVndnZuMXRrZzBkYzM0bG95cjRyOHk2dTJicDQxdzR3aCZlcD12MV9zdGlja2Vyc19yZWxhdGVkJmN0PXM/YVhpNLN6aBCpczlLGs/200.webp" alt=""></div>
    <div class="decorate_bottom"><img src="./images/decorate.png" alt="" width="100"></div>
    <div class="smiley__icon"><img src="https://media1.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3Mzc5djYwdWxscWJ2MHdyd2x1aGs3d2s5Y3l4Z2k5YWhsZWw5dWZ1YiZlcD12MV9zdGlja2Vyc19yZWxhdGVkJmN0PXM/4Ztytt2s2Cr7XyTI1z/200.webp" alt="" width="100"></div>
    <div class="smileo__icon"><img src="https://media3.giphy.com/media/1tiwQhwReXrSQ66wsB/200.webp" alt="" width="100"></div>
    <div class="smilei__icon"><img src="https://media0.giphy.com/media/pbKSEFrEEudOIclaL8/200.webp" alt="" width="100"></div>
    <div class="smileu__icon"><img src="https://media4.giphy.com/media/IEm8kcqLVCctHJ1kWm/giphy.webp" alt="" width="100"></div>
    <div class="smilep__icon"><img src="https://media2.giphy.com/media/SvK7Gxcq4QS4fNNjYH/200.webp" alt="" width="100"></div>

    <!-- H·ªôp th∆∞ (MAIL BOX) -->
    <div class="boxMail" aria-hidden="true">
      <i class="fa-solid fa-xmark" aria-label="ƒê√≥ng"></i>
      <div class="boxMail-container" role="dialog" aria-modal="true">
        <div class="card1">
          <div class="userImg"><img src="images/1 (13).png" alt=""></div>
          <h4 class="username">To: THU TH·∫¢O üíñ<span class="underline"></span></h4>
          <h3>Happy Birthday</h3>
          <div class="imageCute"><img src="cute1.png" alt=""></div>
        </div>
        <div class="card2">
          <div class="card2-content">
            <h3>To You!</h3>
            <h2>
              Ch√∫c m·ª´ng sinh nh·∫≠t B√© iu nhaaaaa hmmm c√°i n√†y a t·ªën m·∫•y ng√†y ƒë·ªÉ l√†m ƒë√≥oooo,s·∫øn l·∫Øm ch·ª© gi√®eeeü§ó ...
            </h2>
            <div class="imageCute2"><img src="cute2.png" alt=""></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Th∆∞ -->
    <div class="box__letter" style="display:none;" aria-hidden="true">
      <div class="letter__border" style="display:none;">
        <div class="close" aria-label="ƒê√≥ng"><i class="fa-solid fa-xmark"></i></div>
        <div class="letter">
          <div class="title__letter"></div>
          <div class="content__letter">
            <div class="left">
              <img id="heart__letter" src="images/heart.png" alt="" />
              <i class="fa-solid fa-heart heart heart_1" style="--t:1s"></i>
              <i class="fa-solid fa-heart heart heart_2" style="--t:1.2s"></i>
              <i class="fa-solid fa-heart heart heart_3" style="--t:1.4s"></i>
              <i class="fa-solid fa-heart heart heart_4" style="--t:1.6s"></i>
            </div>
            <div class="right">
              <div class="love__img"><img src="https://media0.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3Mzc5djYwdWxscWJ2MHdyd2x1aGs3d2s5Y3l4Z2k5YWhsZWw5dWZ1YiZlcD12MV9zdGlja2Vyc19yZWxhdGVkJmN0PXM/9V5fArpd99fLoemwn3/200.webp" alt="" /></div>
              <div class="text__letter"><p></p></div>
              <img id="mewmew" src="images/cat.png" alt="" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /Modal Th∆∞ -->
  </div>
  <!-- /wrapper -->

  <!-- ====== 5 H·ªòP QU√Ä ====== -->
  <div id="gift-boxes-area" aria-live="polite">
    <div class="gift-box" data-msg="Ch√∫c B√© iu c·ªßa anh tu·ªïi m·ªõi c√†ng xinh ƒë·∫πp üíñ" data-img="images/1 (1).png"></div>
    <div class="gift-box" data-msg="NƒÉm nay sinh nh·∫≠t c·ªßa em c√≥ anh,v√† sau n√†y v·∫´n l√† anhhhh üéÇ" data-img="images/1 (10).png"></div>
    <div class="gift-box" data-msg="Tu·ªïi m·ªõi th√¨ l√†m g√¨ c≈©ng ph·∫£i may m·∫Øn nhaaaa üçÄ" data-img="images/1 (11).png"></div>
    <div class="gift-box" data-msg="Ch√∫c B√© iu Lu√¥n c∆∞·ªùi t∆∞∆°i,v√† r·∫°ng r·ª° nhaaaa  üòä" data-img="images/1 (12).png"></div>
    <div class="gift-box" data-msg="CH√öC M·ª™NG SINH NH·∫¨T B√â IU C·ª¶A ANH üéâüíñ" data-img="images/1 (9).png"></div>
  </div>

  <!-- Modal l·ªùi ch√∫c -->
  <div id="gift-modal" aria-hidden="true">
    <div id="gift-modal-content" role="dialog" aria-modal="true">
      <span id="gift-modal-close" aria-label="ƒê√≥ng">&times;</span>
      <img id="gift-modal-img" src="" alt="">
      <div id="gift-modal-message"></div>
    </div>
  </div>

  <!-- Ph√°o hoa -->
  <canvas id="fireworks" aria-hidden="true"></canvas>

  <!-- Modal PIN -->
  <div id="pin-modal" aria-hidden="true">
    <div class="cute-pin-box">
      <div class="cute-pin-title">Nh·∫≠p m·∫≠t kh·∫©u ƒëi c·ª•c c∆∞ng √† üòç</div>
      <div class="cute-pin-dots" id="pin-dots">
        <div class="cute-pin-dot"></div><div class="cute-pin-dot"></div><div class="cute-pin-dot"></div><div class="cute-pin-dot"></div>
      </div>
      <div class="cute-pin-keypad" id="pin-keypad"></div>
      <div class="cute-pin-error" id="pin-error"></div>
    </div>
  </div>

  <!-- (gi·ªØ nguy√™n tag audio "th·ª´a" cho ƒë√∫ng y√™u c·∫ßu) -->
  <audio></audio>

  <!-- ===== MUSIC ===== -->
  <audio id="bg-music"
       src="images/1.mp3"
       preload="auto"
       loop
       playsinline
       autoplay
       muted></audio>

  <button id="music-unblock"
        style="position:fixed;right:14px;bottom:14px;z-index:5000;display:none;border:2px solid #d1497a;background:#fff0f7;color:#d1497a;border-radius:999px;padding:10px 16px;font-weight:600;box-shadow:0 4px 16px rgba(209,73,122,.25)">
    B·∫≠t nh·∫°c üéµ
  </button>
<script>
  // ƒê·∫∑t strip qu√† ngay sau kh·ªëi .btn (n√∫t th∆∞) trong c·ªôt tr√°i
  document.addEventListener('DOMContentLoaded', function(){
    var area = document.getElementById('gift-boxes-area');
    var btnWrap = document.querySelector('.left .btn');
    if(area && btnWrap && btnWrap.parentElement){
      // ch√®n ngay sau .btn (n√∫t "B·∫§M V√ÄO ƒê√ÇY N√àEEEüíå")
      btnWrap.insertAdjacentElement('afterend', area);
    }

    // (tu·ª≥ ch·ªçn) ·∫®n lu√¥n pixel GIF ƒë√°y n·∫øu kh√¥ng c·∫ßn n·ªØa
    var bottomGif = document.getElementById('bottom-gif');
    if(bottomGif) bottomGif.style.display = 'none';
  });
</script>
  <script>
/* ===== T·ª∞ PH√ÅT NH·∫†C AN TO√ÄN + N√öT B·∫¨T L·∫†I ===== */
(function () {
  const music = document.getElementById('bg-music');
  const btn   = document.getElementById('music-unblock');

  function tryPlay() {
    if (!music) return;
    music.muted = true;               // autoplay ƒë∆∞·ª£c ph√©p khi mute
    music.volume = 0.9;
    const p = music.play();
    if (p && typeof p.then === 'function') {
      p.then(() => {
        setTimeout(()=> music.muted = false, 120); // b·∫≠t ti·∫øng nh·∫π sau khi ƒë√£ ph√°t
        if (btn) btn.style.display = 'none';
      }).catch(() => {
        if (btn) btn.style.display = 'inline-flex'; // n·∫øu b·ªã ch·∫∑n, hi·ªán n√∫t
      });
    }
  }

  // g·ªçi khi trang s·∫µn s√†ng
  if (document.readyState !== 'loading') tryPlay();
  else document.addEventListener('DOMContentLoaded', tryPlay);

  // hu√Ωch b·∫±ng t∆∞∆°ng t√°c l·∫ßn ƒë·∫ßu
  const once = () => { tryPlay();
    window.removeEventListener('mousemove', once);
    window.removeEventListener('touchstart', once);
    window.removeEventListener('keydown', once);
  };
  window.addEventListener('mousemove', once, { once:true });
  window.addEventListener('touchstart', once, { once:true });
  window.addEventListener('keydown', once, { once:true });
  window.addEventListener('pageshow', tryPlay);
  document.addEventListener('visibilitychange', () => { if (!document.hidden) tryPlay(); });

  // click n√∫t d·ª± ph√≤ng
  btn && btn.addEventListener('click', () => { music.muted = false; tryPlay(); });
})();
  </script>

  <!-- Nh·∫°c ph√°t khi m·ªü kh√≥a -->
  <audio id="unlock-music" src="images/1.mp3" preload="auto" loop playsinline autoplay muted></audio>

  <!-- ===== SCRIPT G·ªêC + CH·ªàNH (LETTER + DATE typing) ===== -->
  <script>
/* === Typing date & letter === */
let datetxt="10 Th√°ng 10üéâÔ∏èüéâ";
let datatxtletter="c√≥ m·∫•y h·ªôp qu√† ƒë√≥ b√© b·∫•m v√†o m·ªü ƒëiii...üíù";
let titleLetter="THU TH·∫¢O ‚ù§Ô∏èüíù";
let charArrDate=datetxt.split(''),charArrDateLetter=datatxtletter.split(''),charArrTitle=titleLetter.split('');
let currentIndex=0,currentIndexLetter=0,currentIndexTitle=0;
let date__of__birth=document.querySelector(".date__of__birth span");
let text__letter=document.querySelector(".text__letter p");

setTimeout(function(){
  timeDatetxt=setInterval(function(){
    if(currentIndex<charArrDate.length){
      date__of__birth.textContent+=charArrDate[currentIndex]; currentIndex++;
    }else{
      let i=document.createElement("i"); i.className="fa-solid fa-star";
      document.querySelector(".date__of__birth").prepend(i)
      document.querySelector(".date__of__birth").appendChild(i.cloneNode(true))
      clearInterval(timeDatetxt)
    }
  },100)
},12000)

/* HI·ªÜN QU√Ä KHI M·ªû TH∆Ø (1 l·∫ßn) + m·ªü/ƒë√≥ng th∆∞ m∆∞·ª£t + ƒë√≥ng khi b·∫•m ra ngo√†i */
let giftShownOnce = false;
let intervalContent=null, intervalTitle=null;

/* M·ªû TH∆Ø */
$("#btn__letter").on("click",function(){
  document.body.classList.add('modal-open');  // ·∫©n strip qu√† & gif ƒë√°y trong l√∫c m·ªü th∆∞

  $(".box__letter").fadeIn(180);
  setTimeout(()=>{$(".letter__border").fadeIn(180);},120);

  // L·∫ßn ƒë·∫ßu m·ªü th∆∞ th√¨ hi·ªÉn th·ªã strip qu√† (v·∫´n s·∫Ω ·∫©n do body.modal-open)
  setTimeout(()=>{
    if(!giftShownOnce){
      HB_Gifts.show();
      giftShownOnce = true;
    }
  },700);

  // G√µ ti√™u ƒë·ªÅ
  setTimeout(function(){
    intervalTitle=setInterval(function(){
      if(currentIndexTitle<charArrTitle.length){
        document.querySelector(".title__letter").textContent+=charArrTitle[currentIndexTitle];
        let i=document.createElement("i"); i.className="fa-solid fa-heart";
        document.querySelector(".title__letter").appendChild(i)
        currentIndexTitle++;
      }else{ clearInterval(intervalTitle) }
    },100)
  },2000)

  // ·∫¢nh/Tim hi·ªán d·∫ßn
  setTimeout(function(){
    document.querySelector("#heart__letter")?.classList.add("animationOp");
    document.querySelector(".love__img")?.classList.add("animationOp");
    document.querySelector("#mewmew")?.classList.add("animationOp");
  },2800)

  // Tim nh·∫£y
  setTimeout(function(){ document.querySelectorAll(".heart").forEach((item)=>{ item.classList.add("animation") }) },3500)

  // G√µ n·ªôi dung
  setTimeout(function(){
    intervalContent=setInterval(function(){
      if(currentIndexLetter<charArrDateLetter.length){
        if(text__letter) text__letter.textContent+=charArrDateLetter[currentIndexLetter];
        currentIndexLetter++;
      }else{ clearInterval(intervalContent) }
    },50)
  },6000)
});

/* H√ÄM ƒê√ìNG TH∆Ø (t√°i s·ª≠ d·ª•ng) */
function closeLetter(){
  if(intervalContent) clearInterval(intervalContent);
  if(intervalTitle) clearInterval(intervalTitle);

  let tl=document.querySelector(".title__letter");
  if(tl) tl.textContent="";
  if(text__letter) text__letter.textContent="";

  currentIndexLetter = 0;
  currentIndexTitle  = 0;

  document.querySelector("#heart__letter")?.classList.remove("animationOp");
  document.querySelector(".love__img")?.classList.remove("animationOp");
  document.querySelector("#mewmew")?.classList.remove("animationOp");
  document.querySelectorAll(".heart").forEach((item) => { item.classList.remove("animation") });

  $(".letter__border").fadeOut(160);
  $(".box__letter").fadeOut(160, ()=>{ document.body.classList.remove('modal-open'); });
}

/* ƒê√≥ng th∆∞ b·∫±ng n√∫t X */
$(".box__letter .close").on("click", closeLetter);

/* ƒê√≥ng th∆∞ khi click ra ngo√†i khung th∆∞ */
document.querySelector(".box__letter")?.addEventListener("click", function(e){
  const border = document.querySelector(".letter__border");
  if(border && !border.contains(e.target)){ closeLetter(); }
});

/* ƒê√≥ng th∆∞ b·∫±ng ph√≠m ESC */
document.addEventListener('keydown', (e)=>{ if(e.key==='Escape'){ closeLetter(); }});

/* MAIL BOX: m·ªü/ƒë√≥ng + click ra ngo√†i ƒë·ªÉ t·∫Øt (kh√¥ng c·∫ßn b·∫•m X) */
let mailBox=document.querySelector('.mail'),
    boxmail=document.querySelector('.boxMail'),
    closeMailBtn=document.querySelector('.boxMail .fa-xmark');

mailBox?.addEventListener('click', function(){
  mailBox.classList.toggle('active');
  boxmail?.classList.add('active');
});

function closeMail(){
  boxmail?.classList.remove('active');
}
closeMailBtn?.addEventListener('click', closeMail);

/* ƒê√≥ng mailbox khi b·∫•m v√†o n·ªÅn t·ªëi (b·∫•t k·ª≥ ch·ªó n√†o ngo√†i .boxMail-container) */
boxmail?.addEventListener('click', function(e){
  const inner = boxmail.querySelector('.boxMail-container');
  if(inner && !inner.contains(e.target)){ closeMail(); }
});

/* ESC c≈©ng ƒë√≥ng mailbox */
document.addEventListener('keydown', (e)=>{ if(e.key==='Escape'){ closeMail(); }});
  </script>

  <!-- GIFTS + FIREWORKS -->
  <script>
const GIFT_IMAGE_SRC  = "https://pin.it/5s3VzzNNT";
const BOTTOM_GIF_SRC  = "https://i.pinimg.com/originals/55/17/aa/5517aa7627534d2427e2eda5d72b434f.gif";

(function(){
  const area = document.getElementById('gift-boxes-area');
  const modal = document.getElementById('gift-modal');
  const modalContent = document.getElementById('gift-modal-content');
  const modalImg = document.getElementById('gift-modal-img');
  const modalMsg = document.getElementById('gift-modal-message');
  const modalClose = document.getElementById('gift-modal-close');
  const bottomGif = document.getElementById('bottom-gif');

  bottomGif.src = BOTTOM_GIF_SRC;

  // Fireworks
  const cvs = document.getElementById('fireworks');
  const ctx = cvs.getContext('2d');
  function fit(){ cvs.width=innerWidth; cvs.height=innerHeight }
  fit(); addEventListener('resize',fit);

  let particles=[];
  function burst(x,y){
    for(let i=0;i<120;i++){
      particles.push({x,y,dx:(Math.random()-0.5)*6,dy:(Math.random()-0.5)*6,life:100,color:`hsl(${Math.random()*360},100%,50%)`});
    }
  }
  (function loop(){
    ctx.clearRect(0,0,cvs.width,cvs.height);
    for(let i=particles.length-1;i>=0;i--){
      const p=particles[i]; p.x+=p.dx; p.y+=p.dy; p.life--;
      ctx.fillStyle=p.color; ctx.fillRect(p.x,p.y,2,2);
      if(p.life<=0) particles.splice(i,1);
    }
    requestAnimationFrame(loop);
  })();

  // Render gifts
  function renderGifts(){
    area.querySelectorAll('.gift-box').forEach((box)=>{
      box.innerHTML = `<img class="gift-img" src="${GIFT_IMAGE_SRC}" alt="gift">`;
      box.addEventListener('click',(ev)=>{
        if (box.dataset.removed === '1') return;

        area.querySelectorAll('.gift-box.open').forEach(b=>b.classList.remove('open'));
        box.classList.add('open');

        const r=cvs.getBoundingClientRect();
        burst(ev.clientX - r.left, ev.clientY - r.top);

        setTimeout(()=>{
          modalImg.src = box.dataset.img || '';
          modalMsg.textContent = box.dataset.msg || 'Happy Birthday!';
          modal.style.display='flex';
          modal.setAttribute('aria-hidden','false');
          area.style.visibility='hidden';           // ·∫©n strip qu√† trong l√∫c xem modal
          document.body.classList.add('modal-open');
        }, 300);

        // bi·∫øn m·∫•t h·ªôp qu√† v·ª´a m·ªü
        box.dataset.removed = '1';
        box.style.pointerEvents = 'none';
        requestAnimationFrame(()=>{
          void box.offsetWidth;
          box.classList.add('removing');
          const removeFn = ()=>{ box.removeEventListener('transitionend', removeFn); box.remove(); };
          box.addEventListener('transitionend', removeFn);
          setTimeout(removeFn, 600); // fallback
        });
      });
    });
  }

  function closeGiftModal(){
    modal.style.display='none';
    modal.setAttribute('aria-hidden','true');
    area.style.visibility='visible';               // hi·ªán l·∫°i strip
    area.querySelectorAll('.gift-box.open').forEach(b=>b.classList.remove('open'));
    document.body.classList.remove('modal-open');
  }

  modalClose.addEventListener('click', closeGiftModal);

  // ƒê√≥ng modal qu√† khi b·∫•m ra ngo√†i n·ªôi dung
  modal.addEventListener('click', function(e){
    if(!modalContent.contains(e.target)){ closeGiftModal(); }
  });

  // ESC ƒë√≥ng modal qu√†
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape'){ closeGiftModal(); }});

  window.HB_Gifts = {
    init(){ renderGifts(); },
    show(){
      area.style.display='flex';
      area.classList.add('gift-appear');
      bottomGif.style.display='block';
      document.body.classList.add('gifts-visible');
    }
  };
})();
  </script>

  <!-- PIN + NH·∫†C -->
  <script>
(function(){
  const pinModal=document.getElementById('pin-modal');
  const pinDots=[...document.querySelectorAll('#pin-dots .cute-pin-dot')];
  const pinKeypad=document.getElementById('pin-keypad');
  const pinError=document.getElementById('pin-error');
  const music=document.getElementById('unlock-music');
  const musicBtn=document.getElementById('music-unblock');

  let entered='', correct='1010', onUnlock=()=>{};

  // Safari/iOS priming
  window.addEventListener('pointerdown', function prime(){
    if(!music) return;
    window.removeEventListener('pointerdown', prime);
    const wasMuted = music.muted; music.muted = true;
    music.play().then(()=>{ music.pause(); music.currentTime = 0; music.muted = wasMuted; }).catch(()=>{});
  }, { once:true });

  function showMusicBtn(){ musicBtn.style.display='inline-flex'; }
  musicBtn.addEventListener('click', ()=>{
    if(!music) return; musicBtn.style.display='none';
    music.muted=false; music.currentTime=0; music.play().catch(()=>{ showMusicBtn(); });
  });

  const KEYS=["1","2","3","4","5","6","7","8","9","del","0","ok"];
  function renderKeys(){
    const tplDigit = (d)=>`
      <div class="chick">
        <span class="comb">‚ù§</span>
        <span class="eye e1"></span>
        <span class="eye e2"></span>
        <span class="beak"></span>
      </div>
      <span class="digit">${d}</span>
    `;
    KEYS.forEach(k=>{
      const b=document.createElement('button');
      b.className='cute-pin-key';
      if(k==='del'){ b.classList.add('special'); b.innerHTML=`<span class="label">‚å´</span>`; }
      else if(k==='ok'){ b.classList.add('special'); b.innerHTML=`<span class="label">OK</span>`; }
      else{ b.innerHTML = tplDigit(k); }

      b.onclick=()=>{
        if(k==='del'){ entered=entered.slice(0,-1); updateDots(); pinError.style.display='none'; }
        else if(k==='ok'){ check(); }
        else if(entered.length<4){ entered+=k; updateDots(); if(entered.length===4) setTimeout(check,160); }
      };
      pinKeypad.appendChild(b);
    });
  }

  function updateDots(){
    pinDots.forEach((d,i)=>{ d.classList.toggle('filled',!!entered[i]); d.textContent=''; });
  }

  function tryPlayMusic(){
    if(!music) return;
    music.volume = 0.85; music.muted=false; music.currentTime = 0;
    const p = music.play(); if(p && typeof p.catch==='function') p.catch(()=>{ showMusicBtn(); });
  }

  function check(){
    if(entered===correct){
      pinModal.style.display='none';
      pinModal.setAttribute('aria-hidden','true');
      try { tryPlayMusic(); } catch(e){}
      onUnlock&&onUnlock();
    } else{
      pinError.textContent="Sai m√£ PIN r·ªìi üò≥";
      pinError.style.display='block';
      entered=''; updateDots();
    }
  }

  window.HB_Pin={
    require(opt={}){
      correct=opt.pin||correct;
      onUnlock=typeof opt.onUnlock==='function'?opt.onUnlock:onUnlock;
      pinModal.style.display='flex';
      pinModal.setAttribute('aria-hidden','false');
      entered=''; updateDots();
    }
  };

  renderKeys(); updateDots();
})();
  </script>

  <!-- TR√åNH T·ª∞: PIN ‚Üí animation (kh√¥ng auto-show qu√†) -->
  <script>
document.addEventListener('DOMContentLoaded', function () {
  HB_Gifts.init();
  HB_Pin.require({
    pin: '1010',
    onUnlock: function () {
      /* Kh√¥ng auto-show; qu√† s·∫Ω xu·∫•t hi·ªán khi m·ªü th∆∞ */
    }
  });
});
  </script>

  <!-- ======= Filler ch√∫ th√≠ch ƒë·ªÉ ƒë·∫£m b·∫£o t·ªïng s·ªë d√≤ng > 800 (kh√¥ng ·∫£nh h∆∞·ªüng ch·ª©c nƒÉng) ======= -->
  <!-- line filler 1 -->
  <!-- line filler 2 -->
  <!-- line filler 3 -->
  <!-- line filler 4 -->
  <!-- line filler 5 -->
  <!-- line filler 6 -->
  <!-- line filler 7 -->
  <!-- line filler 8 -->
  <!-- line filler 9 -->
  <!-- line filler 10 -->
  <!-- line filler 11 -->
  <!-- line filler 12 -->
  <!-- line filler 13 -->
  <!-- line filler 14 -->
  <!-- line filler 15 -->
  <!-- line filler 16 -->
  <!-- line filler 17 -->
  <!-- line filler 18 -->
  <!-- line filler 19 -->
  <!-- line filler 20 -->
  <!-- line filler 21 -->
  <!-- line filler 22 -->
  <!-- line filler 23 -->
  <!-- line filler 24 -->
  <!-- line filler 25 -->
  <!-- line filler 26 -->
  <!-- line filler 27 -->
  <!-- line filler 28 -->
  <!-- line filler 29 -->
  <!-- line filler 30 -->
  <!-- line filler 31 -->
  <!-- line filler 32 -->
  <!-- line filler 33 -->
  <!-- line filler 34 -->
  <!-- line filler 35 -->
  <!-- line filler 36 -->
  <!-- line filler 37 -->
  <!-- line filler 38 -->
  <!-- line filler 39 -->
  <!-- line filler 40 -->
  <!-- line filler 41 -->
  <!-- line filler 42 -->
  <!-- line filler 43 -->
  <!-- line filler 44 -->
  <!-- line filler 45 -->
  <!-- line filler 46 -->
  <!-- line filler 47 -->
  <!-- line filler 48 -->
  <!-- line filler 49 -->
  <!-- line filler 50 -->
  <!-- line filler 51 -->
  <!-- line filler 52 -->
  <!-- line filler 53 -->
  <!-- line filler 54 -->
  <!-- line filler 55 -->
  <!-- line filler 56 -->
  <!-- line filler 57 -->
  <!-- line filler 58 -->
  <!-- line filler 59 -->
  <!-- line filler 60 -->
  <!-- line filler 61 -->
  <!-- line filler 62 -->
  <!-- line filler 63 -->
  <!-- line filler 64 -->
  <!-- line filler 65 -->
  <!-- line filler 66 -->
  <!-- line filler 67 -->
  <!-- line filler 68 -->
  <!-- line filler 69 -->
  <!-- line filler 70 -->
  <!-- line filler 71 -->
  <!-- line filler 72 -->
  <!-- line filler 73 -->
  <!-- line filler 74 -->
  <!-- line filler 75 -->
  <!-- line filler 76 -->
  <!-- line filler 77 -->
  <!-- line filler 78 -->
  <!-- line filler 79 -->
  <!-- line filler 80 -->
  <!-- line filler 81 -->
  <!-- line filler 82 -->
  <!-- line filler 83 -->
  <!-- line filler 84 -->
  <!-- line filler 85 -->
  <!-- line filler 86 -->
  <!-- line filler 87 -->
  <!-- line filler 88 -->
  <!-- line filler 89 -->
  <!-- line filler 90 -->
  <!-- line filler 91 -->
  <!-- line filler 92 -->
  <!-- line filler 93 -->
  <!-- line filler 94 -->
  <!-- line filler 95 -->
  <!-- line filler 96 -->
  <!-- line filler 97 -->
  <!-- line filler 98 -->
  <!-- line filler 99 -->
  <!-- line filler 100 -->
</body>
</html>
